{"name":"Spring-JPA","tagline":"","body":"### Integration Spring with JPA\r\nThe Spring Framework is an application framework and inversion of control container for the Java platform. The framework's core features can be used by any Java application, but there are extensions for building web applications on top of the Java EE platform. \r\n``\r\nThe Java Persistence API (JPA) is a Java application programming interface specification that describes the management of relational data in applications using Java Platform, Standard Edition and Java Platform, Enterprise Edition.\r\n\r\nThis project will explain you about integrating the Spring framework with JPA. As a part of this, it will also explain the use of Liquibase libraries for creating the tables in the database. Liquibase is an open source database-independent library for tracking, managing and applying database schema changes.\r\n\r\n### Intializing the Spring project\r\nUse the [link](https://start.spring.io/) to bootstrap your spring application. \r\n\r\n### Adding the dependencies\r\nFollowing are the dependencies which are needed for the project. Please add the dependencies in the `pom.xml`\r\n`\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.postgresql</groupId>\r\n\t\t\t<artifactId>postgresql</artifactId>\r\n\t\t\t<version>${postgresql.version}</version>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.liquibase</groupId>\r\n\t\t\t<artifactId>liquibase-core</artifactId>\r\n\t\t\t<version>${liquibase.version}</version>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.apache.commons</groupId>\r\n\t\t\t<artifactId>commons-lang3</artifactId>\r\n\t\t\t<version>3.4</version>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n`\r\nThis project uses postgresql as the database so adding the dependency for it. \r\n\r\n### Setup Liquibase\r\nI going consider the College and department relationship for the demonstration. I will be having two tables named `college, department`. The college table will have the following fields\r\n* id\r\n* name\r\n\r\nThe department table will have the following fields:\r\n* id\r\n* name\r\n* college_id\r\n`college_id` is the foreign key which references the `id` column in the college table.\r\n\r\nWith this assumption, the first step in setting up liquibase is creating a database called `college` in postgres DB. This can be done using the command: `createdb college`\r\n\r\nThe following properties has to be added in `application.properties`\r\n\r\n`\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/college\r\nspring.datasource.username=postgres\r\nspring.datasource.password=postgres\r\nliquibase.change-log=classpath:liquibase/changesets.xml\r\n`\r\n\r\nCreate a file called `changesets.xml` under `resources/liquibase` and add the following lines:\r\n\r\n`\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<databaseChangeLog\r\n        xmlns=\"http://www.liquibase.org/xml/ns/dbchangelog\"\r\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n        xsi:schemaLocation=\"http://www.liquibase.org/xml/ns/dbchangelog\r\n         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.3.xsd\">\r\n\r\n    <changeSet id=\"201603050433\" author=\"Thiru\">\r\n        <createTable tableName=\"COLLEGE\">\r\n            <column name=\"ID\" type=\"BIGINT\" autoIncrement=\"true\">\r\n                <constraints primaryKey=\"true\" nullable=\"false\"/>\r\n            </column>\r\n            <column name=\"NAME\" type=\"varchar(255)\"/>\r\n        </createTable>\r\n\r\n        <createTable tableName=\"DEPARTMENT\">\r\n            <column name=\"ID\" type=\"BIGINT\" autoIncrement=\"true\">\r\n                <constraints primaryKey=\"true\" nullable=\"false\"/>\r\n            </column>\r\n            <column name=\"NAME\" type=\"varchar(255)\"/>\r\n            <column name=\"COLLEGE_ID\" type=\"BIGINT\"/>\r\n        </createTable>\r\n        <addForeignKeyConstraint baseTableName=\"DEPARTMENT\" baseColumnNames=\"COLLEGE_ID\"\r\n                                 constraintName=\"DEPARTMENT_COLLEGE_ID_FK\"\r\n                                 referencedTableName=\"COLLEGE\"\r\n                                 referencedColumnNames=\"ID\"/>\r\n\r\n    </changeSet>\r\n\r\n</databaseChangeLog>\r\n`\r\n\r\nRun ` mvn clean install ` to add these tables to the database.\r\n\r\n### Support or Contact\r\nHaving trouble with Pages? Check out our [documentation](https://help.github.com/pages) or [contact support](https://github.com/contact) and weâ€™ll help you sort it out.","google":"UA-74760810-1","note":"Don't delete this file! It's used internally to help with page regeneration."}